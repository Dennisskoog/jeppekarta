<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <script src="https://cdn.maptiler.com/mapbox-gl-js/v1.13.2/mapbox-gl.js"></script>
  <link href="https://cdn.maptiler.com/mapbox-gl-js/v1.13.2/mapbox-gl.css" rel="stylesheet" />
  <link href="/static/css/cloud_base.css?t=1646293790" rel="stylesheet" />
  <style>
    #map {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }
  </style>
</head>

<body>
  <div id="map">
  </div>

  <script>

    var map = new mapboxgl.Map({
      container: 'map',
      style: 'https://api.maptiler.com/maps/af6359df-c1e8-4e0a-9267-a00233e443d4/style.json?key=oV83I8CRDGimYhIegxgd',
      center: [12.99898, 55.590],
      zoom: 12,
      pitch: 0, // pitch in degrees
      bearing: 0, // bearing in degrees
    });
    map.on('load', () => {
      map.addSource('wms-test-source', {
        'type': 'raster',
        // use the tiles option to specify a WMS tile source URL
        // https://docs.mapbox.com/mapbox-gl-js/style-spec/sources/
        'tiles': [
          'https://kartor.malmo.se/geoserver/wms?bbox={bbox-epsg-3008}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3008&transparent=true&width=256&height=256&layers=malmows:gk_cykellinjer_l'
        ],
        'tileSize': 256
      });
      map.addLayer(
        {
          'id': 'wms-test-layer',
          'type': 'raster',
          'source': 'wms-test-source',
          'paint': {}
        }
      );
    });
    map.addControl(new mapboxgl.NavigationControl());
    map.addControl(
      new mapboxgl.GeolocateControl({
        positionOptions: {
          enableHighAccuracy: true
        },
        // When active the map will receive updates to the device's location as it changes.
        trackUserLocation: true,
        // Draw an arrow next to the location dot to indicate which direction the device is heading.
        showUserHeading: true
      })
    );
  </script>
</body>

</html>